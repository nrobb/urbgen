<!DOCTYPE html>
<html>
  <head>
    <script src="js/UrbGen.js"></script>
  </head>
  <body>
    <canvas id="canvas" width="1300" height="700">
    </canvas>
    <script>
      //////////////////////////////////////////////////////////////////////////
      // DRAWS THE CITY BLOCKS
      //////////////////////////////////////////////////////////////////////////
      var drawBlocks = function() {
        for (var i = 0; i < blocks.length; i++) {
          for (var j = 0; j < blocks[i].edges.length; j++) {
            var startIndex = blocks[i].edges[j].start;
            var endIndex = blocks[i].edges[j].end;
            context.beginPath();
            context.moveTo(vertices[startIndex].x, vertices[startIndex].y);
            context.lineTo(vertices[endIndex].x, vertices[endIndex].y);
            //context.lineWidth = blocks[i].edges[j].width;
            context.stroke()
            context.closePath();
          }
        }
      }
      //////////////////////////////////////////////////////////////////////////
      // DRAWS THE ROADS
      //////////////////////////////////////////////////////////////////////////
      var drawRoads = function() {
        for (var i = 0; i < roadSegs.length; i++) {
          var startIndex = roadSegs[i].start;
          var endIndex = roadSegs[i].end;
          context.beginPath();
          context.moveTo(vertices[startIndex].x, vertices[startIndex].y);
          context.lineTo(vertices[endIndex].x, vertices[endIndex].y);
          context.lineWidth = roadSegs[i].width;
          context.stroke()
          context.closePath();
        }
      }
      //////////////////////////////////////////////////////////////////////////
      // DRAWS AN EDGE
      //////////////////////////////////////////////////////////////////////////
      var drawEdge = function(edge) {
        context.beginPath();
        context.moveTo(edge.start.x, edge.start.y);
        context.lineTo(edge.end.x, edge.end.y);
        context.stroke();
        context.closePath();
      }
      //////////////////////////////////////////////////////////////////////////
      // START
      //////////////////////////////////////////////////////////////////////////
      var canvas = document.getElementById("canvas");
      var context = canvas.getContext("2d");
      context.lineWidth = 1;
      context.strokeStyle = "#000000";
      var quad = new Quad(new AbsEdge(new Vec3(0, 0, 0), new Vec3(1000, 0, 0)),
                          new AbsEdge(new Vec3(1000, 0, 0), new Vec3(1000, 500, 0)),
                          new AbsEdge(new Vec3(1000, 500, 0), new Vec3(0, 500, 0)),
                          new AbsEdge(new Vec3(0, 500, 0), new Vec3(0, 0, 0)));
      var quad2 = new Quad(new RelEdge(quad.edges[0], 0, 0.2),  // edge 0
                          new AbsEdge(new Vec3(quad.edges[0].getPoint(0.2).x,
                          quad.edges[0].getPoint(0.2).y, 0),
                          new Vec3(quad.edges[2].getPoint(0.6).x,
                          quad.edges[2].getPoint(0.6).y, 0)),
                          new RelEdge(quad.edges[2], 0.6, 1),   // edge 2
                          quad.edges[3]);                       // edge 3
      for (var i = 0; i < quad.edges.length; i++) {
        drawEdge(quad.edges[i]);
      }
      for (var i = 0; i < quad2.edges.length; i++) {
        drawEdge(quad2.edges[i]);
      }
    </script>
  </body>
</html>